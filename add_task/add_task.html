<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Add Task</title>
    <link rel="stylesheet" href="../assets/fonts/fonts.css" />
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="add_task.css" />
    <link rel="stylesheet" href="../templates/template.css" />
    <link rel="shortcut icon" href="../assets/img/join_logo_blue.png" type="image/x-icon" />
    <script src="../templates/template.js"></script>
    <script src="../script.js"></script>
    <script src="../config.js"></script>
    <script src="add_task_html.js"></script>
    <script src="add_task.js"></script>
  </head>

  <body onload="initTasks()">
    <div class="big-screen" w3-include-html="../templates/navigation.html"></div>

    <section class="add-task">
      <div class="task-information">
        <div class="task-top-container">
          <h1 class="task-title">Add Task</h1>
          <div class="task-form-container">
            <form onsubmit="onSubmit(); return false;" id="add-task-form" class="add-task-form">
              <div class="form-left">
                <span id="title">Title<span class="red">*</span></span>
                <input id="task-title" class="input" type="text" name="title" placeholder="Enter a title" />
                <div id="title-required" class="required">This field is required</div>
                <span>Description</span>
                <textarea
                  id="task-description"
                  class="description"
                  name="description"
                  placeholder="Enter a description"
                  cols="30"
                  rows="5"
                ></textarea>
                <span>Assigned To</span>
                <div id="assigned-to-task" class="assigned-to-task task">
                  <input
                    onclick="assignedToDropdown()"
                    id="task-assigned-to"
                    class="task-assigned-to input"
                    type="text"
                    name="assigned-to"
                    placeholder="Assigned To"
                    readonly
                  />
                  <img
                    onclick="assignedToDropdown()"
                    id="assigned-to-icon"
                    class="assigned-to-icon task-icon hover-icon"
                    src="../assets/img/drop_down.png"
                    alt=""
                  />
                  <div id="task-assigned-to-dropdown-container" class="task-assigned-to-dropdown-container">
                    <div id="task-assigned-to-dropdown" class="task-assigned-to-dropdown">
                      <!-- Dropdown options will be dynamically populated here -->
                    </div>
                  </div>
                </div>
                <div id="assigned-to-users" class="assigned-to-users"></div>
              </div>

              <div class="form-split"></div>

              <div class="form-right">
                <span id="due-date">Due date<span class="red">*</span></span>
                <div class="task">
                  <input id="task-date" class="task-date input" type="date" name="date" placeholder="dd/mm/yyyy" />
                  <!-- <img id="task-date-icon" class="task-icon" src="../assets/img/date.png" alt="" /> -->
                </div>
                <div id="date-required" class="required">This field is required</div>
                <span>Prio</span>
                <div class="priority">
                  <span onclick="changePriorityUrgent()" id="urgent" class="urgent urgent-bg prio-hover"
                    >Urgent
                    <img id="urgent-img" src="../assets/img/urgent_red.png" alt="" />
                  </span>
                  <span onclick="changePriorityMedium()" id="medium" class="medium medium-bg"
                    >Medium
                    <img id="medium-img" src="../assets/img/equal_white.png" alt="" />
                  </span>
                  <span onclick="changePriorityLow()" id="low" class="low low-bg prio-hover"
                    >Low
                    <img id="low-img" src="../assets/img/low_green.png" alt="" />
                  </span>
                </div>
                <span>Category<span class="red">*</span></span>
                <div class="task">
                  <input
                    onclick="renderCategory()"
                    id="task-category"
                    class="task-category input"
                    type="text"
                    name="category"
                    placeholder="Select task category"
                    readonly
                  />
                  <img onclick="renderCategory()" id="task-category-icon" class="task-icon hover-icon" src="../assets/img/drop_down.png" alt="" />
                  <div id="task-category-dropdown" class="task-category-dropdown">
                    <!-- Dropdown options will be dynamically populated here -->
                  </div>
                </div>
                <div id="category-required" class="required">This field is required</div>

                <span>Subtasks</span>
                <div id="subtask-input-container" class="subtask-input-container task">
                  <input id="task-subtasks-input" class="task-subtasks input" type="text" name="subtasks" placeholder="Add new subtask" />
                  <img
                    onclick="openSubtask()"
                    id="subtask-icon"
                    class="subtask-icon-add task-icon hover-icon"
                    src="../assets/img/subtask.png"
                    alt=""
                  />
                  <div class="subtask-icon hidden">
                    <div class="subtask-icons-container">
                      <img onclick="emptySubtask()" id="delete-subtask-input" class="subtask-input hover-icon" src="../assets/img/plus.png" alt="" />
                    </div>
                    |
                    <div class="subtask-icons-container">
                      <img
                        onclick="addSubtask()"
                        id="submit-subtask-input"
                        class="subtask-input hover-icon"
                        src="../assets/img/mark-blue.png"
                        alt=""
                      />
                    </div>
                  </div>
                </div>
                <ul id="task-subtasks-list" class="task-subtasks-list"></ul>
              </div>
            </form>
          </div>
        </div>

        <div class="task-bottom-container">
          <div class="task-bottom">
            <span class="field-required"><span class="red">*</span>This field is required</span>
            <div class="task-buttons">
              <button class="task-clear" onclick="clearTaskForm()">
                Clear <span><img class="task-clear-img" src="../assets/img/plus.png" alt="" /></span>
              </button>
              <button id="task-add" class="task-add" type="submit" form="add-task-form">
                Create Task <img class="task-add-img" src="../assets/img/mark.png" alt="" />
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </body>
</html>
